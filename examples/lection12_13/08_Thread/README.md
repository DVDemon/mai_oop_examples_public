# Пример: Базовое использование потоков (Threads)

## Описание

Данный пример демонстрирует **базовое использование потоков** в C++ для параллельного выполнения задач с помощью `std::thread`.

## Суть примера

### Последовательное выполнение

```cpp
std::cout << "Single thread:" << std::endl;
my_function();
my_function();
```

Функции выполняются **последовательно** - вторая начинается только после завершения первой.

### Параллельное выполнение

```cpp
std::cout << "Two thread:" << std::endl;
std::thread my_thread1(my_function);
std::thread my_thread2(my_function);

my_thread1.join();
my_thread2.join();
```

Функции выполняются **параллельно** - обе запускаются одновременно в разных потоках.

## Создание потока

```cpp
std::thread my_thread1(my_function);
```

`std::thread` создает новый поток и **сразу запускает** выполнение функции:
- Поток создается и начинает выполнение
- Основной поток продолжает работу
- Потоки выполняются **одновременно**

## Метод join()

```cpp
my_thread1.join();
my_thread2.join();
```

`join()` **ожидает завершения** потока:
- Блокирует выполнение до завершения потока
- Необходим для синхронизации
- **Обязателен** - иначе программа может завершиться до окончания потоков

## Важные моменты

### Порядок выполнения

При параллельном выполнении:
- Порядок вывода может быть **непредсказуемым**
- Потоки выполняются независимо
- Может быть: "Start work", "Start work", "Done", "Done"

### Время выполнения

- **Последовательно**: время = время1 + время2
- **Параллельно**: время ≈ max(время1, время2) (на многопроцессорных системах)

### Обязательность join()

Без `join()`:
- Потоки могут не успеть завершиться
- Программа может завершиться раньше
- Неопределенное поведение

## Преимущества потоков

- **Производительность** - использование нескольких ядер процессора
- **Отзывчивость** - основной поток не блокируется
- **Параллелизм** - одновременное выполнение задач

## Ограничения

- **Синхронизация** - нужны механизмы для безопасного доступа к общим данным
- **Сложность** - параллельное программирование сложнее последовательного
- **Накладные расходы** - создание потоков имеет стоимость

## Связь с лямбда-выражениями

Лямбды можно использовать в потоках:

```cpp
std::thread t([]() {
    std::cout << "Lambda in thread" << std::endl;
});
```

Это будет показано в следующих примерах (`09_ThreadParameter`).

## Связь с предыдущими примерами

- `01-07_Lambda*` - изучение лямбда-выражений
- `08_Thread` - базовое использование потоков
- `09_ThreadParameter` - передача параметров в потоки (включая лямбды)

Это демонстрирует переход к многопоточному программированию, где лямбды особенно полезны.

