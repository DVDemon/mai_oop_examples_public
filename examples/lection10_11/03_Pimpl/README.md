# Пример: Проблема нарушения инкапсуляции

## Описание

Данный пример демонстрирует **проблему нарушения инкапсуляции** в C++, когда приватные поля класса могут быть изменены извне через небезопасные приведения типов.

## Суть примера

Класс `PaymentMachine` имеет приватные поля `balance` и `account_number`, которые должны быть защищены от прямого доступа. Однако в функции `main()` показано, как можно обойти эту защиту:

```cpp
*((int*)&p)+=10;  // Прямое изменение приватного поля через указатель
```

Этот код использует небезопасное приведение указателя для доступа к первому приватному полю класса и его изменения.

## Проблема

- **Нарушение инкапсуляции** - приватные поля могут быть изменены извне
- **Неопределенное поведение** - такой код может привести к неожиданным результатам
- **Отсутствие защиты** - компилятор не может предотвратить такие манипуляции

## Решение

Проблема решается с помощью паттерна **Pimpl (Pointer to Implementation)**, который скрывает детали реализации в отдельном классе, доступном только через указатель.

## Сравнение

Сравните с примерами `04_Pimpl` и `05_Pimpl`, где показано применение паттерна Pimpl для защиты инкапсуляции.

