# Пример: Правильное разделение команд и запросов (CQRS)

## Описание

Данный пример демонстрирует **правильное применение принципа CQRS (Command Query Responsibility Segregation)** - разделение операций изменения состояния и чтения.

## Суть примера

В отличие от примера `07_Cqrs`, где команды и запросы были смешаны, здесь показано правильное разделение:

### ✅ Команда (Command)
```cpp
void Save(size_t index, const char* msg) {
    // Изменяет состояние, не возвращает значение
}
```

### ✅ Запрос (Query)
```cpp
const std::string Read(size_t index) const {
    // Читает состояние, не изменяет его
    // Помечен как const - гарантирует отсутствие изменений
}
```

## Принципы CQRS

**Команды:**
- Изменяют состояние системы
- Не возвращают данные (только void или статус)
- Могут иметь побочные эффекты

**Запросы:**
- Читают состояние системы
- Не изменяют состояние (помечены как `const`)
- Не имеют побочных эффектов
- Идемпотентны (многократный вызов дает тот же результат)

## Преимущества

- **Ясность намерений** - сразу понятно, что делает метод
- **Безопасность** - `const` методы гарантируют неизменность состояния
- **Тестируемость** - легко тестировать команды и запросы отдельно
- **Предсказуемость** - запросы не имеют скрытых побочных эффектов

## Сравнение

Сравните с примером `07_Cqrs`, чтобы увидеть разницу между смешанным и правильным подходом.

